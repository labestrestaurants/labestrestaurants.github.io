YUI.add("labr-view-ddbehavior",function(e,t){e.namespace("LAbr");var n="node",r="innerHTML",i="dragNode",s="dragElementClassName",o=e.Base.create("labr-view-ddbehavior",e.Base,[],{initializer:function(e){var t=this;t.setupDragDrop(),t.bind()},setupDragDrop:function(){var t=this,n=t.get("draggableElements");n.each(function(n,r){var i=(new e.DD.Drag({node:n,target:{padding:"0 0 0 20"}})).plug(e.Plugin.DDProxy,{moveOnEnd:!1}).plug(e.Plugin.DDConstrained,{constrain2node:t.get("constrain2node")}).addHandle(t.get("handle"))})},bind:function(){var t=this,o=e.DD.DDM;o.on("drag:start",function(e){var t=e.target;t.get(n).setStyle("opacity",".25"),t.get(i).set(r,t.get(n).get(r)),t.get(i).setStyles({opacity:".5",borderColor:t.get(n).getStyle("borderColor"),backgroundColor:t.get(n).getStyle("backgroundColor")})}),o.on("drag:end",function(e){var t=e.target;t.get(n).setStyles({visibility:"",opacity:"1"})}),o.on("drop:over",function(e){var r=e.drag.get(n),i=e.drop.get(n);i.hasClass(t.get(s))&&(t.get("goingUp")||(i=i.get("nextSibling")),e.drop.get(n).get("parentNode").insertBefore(r,i),e.drop.sizeShim())}),o.on("drag:drophit",function(e){var r=e.drop.get(n),i=e.drag.get(n);r.hasClass(t.get(s))||r.contains(i)||r.appendChild(i)})}},{ATTRS:{draggableElements:{value:[]},constrain2node:{value:""},handle:{value:""},goingUp:{value:!1},lastY:{value:0},dragElementClassName:{value:""}}});e.LAbr.DDBehavior=o},"@VERSION@",{requires:["base","dd-constrain","dd-proxy","dd-drop"]});
